## Two Pass Approach
We can pass once left to right and once right to left to calculate the product of all the values to the left and right (respectively) of the element at position i.
``` python
class Solution:
    def productExceptSelf(self, nums: List[int]) -> List[int]:
        before = [0] * len(nums)
        after = [0] * len(nums)
        result = [0] * len(nums)
  
        product = 1
        for i in range(len(nums)):
            product *= nums[i]
            before[i] = product
  
        product = 1
        for i in range(len(nums) - 1, -1, -1):
            product *= nums[i]
            after[i] = product
  
        for i in range(len(nums)):
            if i == 0:
                result[i] = after[i+1]
            elif i == len(nums) - 1:
                result[i] = before[i-1]
            else:
                result[i] = before[i-1] * after[i+1]
        return result
```
The time complexity is O(n) and the space complexity if O(n).
## Two Pass Approach (Optimized)
